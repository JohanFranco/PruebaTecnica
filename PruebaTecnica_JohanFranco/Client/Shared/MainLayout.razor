@using Microsoft.AspNetCore.Components.Authorization;
@inherits LayoutComponentBase
@inject NavigationManager navigationManager;
@Body

@code{
    [CascadingParameter]
    private Task<AuthenticationState> authenticationState { get; set; }

    protected override async Task OnInitializedAsync()
    {
        try
        {
            var authState = await authenticationState;
            var usuario = authState.User;
            var claims = authState.User.Claims.ToList();

            if (!usuario.Identity.IsAuthenticated)
            {
                navigationManager.NavigateTo("login");
                return;
            }
        }
        catch(Exception ex)
        {
            Console.WriteLine(ex.Message);
        }


    }
}